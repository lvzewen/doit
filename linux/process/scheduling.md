# 进程调度

## 策略

1. I/O消耗型和处理器消耗型

I/O消耗型进程是指那些大部分时间都在等待I/O操作的进程，处理器耗费型的进程则是指把大多数时间用于执行代码的进程，除非被抢占，他们一般都一直在运行。
为了保证交互式应用和桌面系统的性能，一般Linux更倾向于优先调度I/O消耗型进程
2. 进程优先级

Linux采用了两种不同的优先级范围。

     - 使用nice值：越大的nice值意味着更低的优先级。 (-19 ~ 20之间)

     - 实时优先级：可配置，越高意味着进程优先级越高。任何实时的进程优先级都高于普通的进程，因此上面的两种优先级范围处于互不相交的范畴。

     - 时间片：Linux中并不是以固定的时间值(如10ms)来分配时间片的，而是将处理器的使用比作为“时间片”划分给进程。这样，进程所获得的实际CPU时间就和系统的负载密切相关。

## 调度算法

调度算法是根据系统的资源分配策略所规定的资源分配算法。有的调度算法适用于作业调度，有的适用于进程调度，有的两者都适用。

## 调度算法类型

1、时间片轮转调度算法（RR）：给每个进程固定的执行时间，根据进程到达的先后顺序让进程在单位时间片内执行，执行完成后便调度下一个进程执行，时间片轮转调度不考虑进程等待时间和执行时间，属于抢占式调度。优点是兼顾长短作业；缺点是平均等待时间较长，上下文切换较费时。适用于分时系统。

2、先来先服务调度算法（FCFS）：根据进程到达的先后顺序执行进程，不考虑等待时间和执行时间，会产生饥饿现象。属于非抢占式调度，优点是公平，实现简单；缺点是不利于短作业。

3、优先级调度算法（HPF）：在进程等待队列中选择优先级最高的来执行。常被用于批处理系统中，还可用于实时系统中。

4、多级反馈队列调度算法：将时间片轮转与优先级调度相结合，把进程按优先级分成不同的队列，先按优先级调度，优先级相同的，按时间片轮转。优点是兼顾长短作业，有较好的响应时间，可行性强，适用于各种作业环境。

5、高响应比优先调度算法：根据“响应比=（进程执行时间+进程等待时间）/ 进程执行时间”这个公式得到的响应比来进行调度。高响应比优先算法在等待时间相同的情况下，作业执行的时间越短，响应比越高，满足段任务优先，同时响应比会随着等待时间增加而变大，优先级会提高，能够避免饥饿现象。优点是兼顾长短作业，缺点是计算响应比开销大，适用于批处理系统。

6、短作业(进程)优先调度算法SJ(P)F: 对预计执行时间短的作业（进程）优先分派处理机.通常后来的短作业不抢先正在执行的作业。
